(this.webpackJsonpapp2=this.webpackJsonpapp2||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},23:function(e,t,a){e.exports=a(48)},28:function(e,t,a){},40:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),s=a.n(l),c=a(6),i=(a(28),a(10)),o=a(9),u=a(1),m=a(2),h=a(5),d=a(3),p=a(4),E=(a(17),function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(o.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("/api/v1/auth/signin",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(console.log(e.status),200!==e.status)throw localStorage.setItem("login","pass"),new Error(e.error);a.setState({login:"pass"}),localStorage.setItem("login",a.state.login)})).catch((function(e){console.error(e),localStorage.setItem("login","pass"),alert("Error logging  please try again")}))};return a.state={email:"",password:"",login:"stop"},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return"pass"===this.state.login?r.a.createElement(i.a,{to:"/home"}," "):r.a.createElement("div",null,r.a.createElement("form",{className:"Container",onSubmit:this.onSubmit},r.a.createElement("h1",null,"Login Below!"),r.a.createElement("div",{className:"table"},r.a.createElement("table",{align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"submit",value:"Submit"}))))),"  "))}}]),t}(n.Component)),f=a(12),v=(a(37),a(40),a(41),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(o.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("/api/v1/articles/"+a.props.articleId+"/comment",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(201!==e.status)throw new Error(e.error);a.setState({status:"Success",comment:""})})).catch((function(e){console.error(e),alert("Posting Error")}))},a.state={comment:"",status:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"Container",onSubmit:this.onSubmit},r.a.createElement("div",{className:"table"},r.a.createElement("table",{align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"text",name:"comment",placeholder:"Comment",value:this.state.comment,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"submit",value:"Post"}),this.state.status)))),"  "))}}]),t}(n.Component)),b=(a(18),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={response:"Loading...",response1:"Loading...",articleId:""},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;fetch("/api/v1/articles/"+t.id).then((function(e){return e.json()})).then((function(a){return e.setState({response:a.data.rows,articleId:t.id})})),fetch("/api/v1/articles/"+t.id).then((function(e){return e.json()})).then((function(t){return e.setState({response1:t.data.comments})}))}},{key:"render",value:function(){var e=this.state.response,t=this.state.response1;return r.a.createElement("div",{className:"Body"},r.a.createElement("ul",null,Object.keys(e).map((function(t){return r.a.createElement("div",{className:"Article-block",key:t},r.a.createElement("div",null,e[t].title),r.a.createElement("p",null,e[t].article))})),r.a.createElement(v,{articleId:this.state.articleId})),r.a.createElement("div",{className:"comment-title"},"Comments"),r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(t).map((function(e){return r.a.createElement("div",{className:"Comment-block",key:e},r.a.createElement("div",{className:"PP"},"user:",t[e].userid)," ",r.a.createElement("p",null,t[e].comment),r.a.createElement("div",{className:"Pd"},t[e].post_date))})))))}}]),t}(r.a.Component)),g=(a(19),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(this.props.Amessage).map((function(t){return r.a.createElement("div",{className:"Article-block",key:t},r.a.createElement("div",{className:"profile"},"user: ",e.props.Amessage[t].userid),r.a.createElement("div",{className:"Article-title"},e.props.Amessage[t].title),r.a.createElement("div",{className:"Article-main"},e.props.Amessage[t].article),r.a.createElement("br",null),r.a.createElement(c.b,{className:"view",to:"/articles/".concat(e.props.Amessage[t].id)},"view")," ",r.a.createElement(c.b,{className:"comment",to:"/articles/".concat(e.props.Amessage[t].id)},"comments"),r.a.createElement(c.b,{className:"delete",to:"/deletearticle/".concat(e.props.Amessage[t].id)},"delete"),r.a.createElement("div",null,e.props.Amessage[t].createdon))}))))}}]),t}(r.a.Component)),j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(o.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("/api/v1/articles",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(201!==e.status)throw new Error(e.error);a.setState({status:"Success"})})).catch((function(e){console.error(e),alert("Posting Error")}))},a.state={title:"",article:"",status:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"Post-form",style:{width:"20px",display:""}},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"input",name:"title",placeholder:"title",value:this.state.title,onChange:this.handleInputChange,required:!0}),r.a.createElement("input",{type:"input",name:"article",placeholder:"Article",value:this.state.article,onChange:this.handleInputChange,required:!0}),this.state.status,r.a.createElement("input",{type:"file",name:"image",onChange:this.handleInputChange}),r.a.createElement("input",{type:"submit",value:"Post"}))))}}]),t}(n.Component),O=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.gifslist;return r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(e).map((function(t){return r.a.createElement("div",{className:"Article-block",key:t},r.a.createElement("div",{className:"profile"},"user: ",e[t].userid),r.a.createElement("div",{className:"Article-title"},e.title),r.a.createElement("div",{className:"Article-main"},r.a.createElement("img",{className:"image",alt:e[t].id,src:e[t].gifurl})),r.a.createElement("br",null),r.a.createElement(c.b,{className:"view",to:"/gifs/".concat(e[t].id)},"Fullview")," ",r.a.createElement(c.b,{className:"comment",to:"/gifs/".concat(e[t].id)},"comments"),r.a.createElement("div",null,e[t].createdon))}))))}}]),t}(r.a.Component),y=function(e){function t(){var e;Object(u.a)(this,t),e=Object(h.a)(this,Object(d.a)(t).call(this));var a=localStorage.getItem("login");return e.state={articlelist:"Loading...",gifslist:"Loading...",login:a,display:"articles"},"pass"!==a&&e.setState({login:"stop"}),e.handleArticles=e.handleArticles.bind(Object(f.a)(e)),e.handleGifs=e.handleGifs.bind(Object(f.a)(e)),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/articles").then((function(e){return e.json()})).then((function(t){return e.setState({articlelist:t.rows})})),fetch("/api/v1/gifs").then((function(e){return e.json()})).then((function(t){return e.setState({gifslist:t.rows})}))}},{key:"handleGifs",value:function(){this.setState({display:"gifs"})}},{key:"handleArticles",value:function(){this.setState({display:"articles"})}},{key:"render",value:function(){if("pass"!==this.state.login)return r.a.createElement(i.a,{to:"/login"});var e="";return"articles"===this.state.display?e=r.a.createElement(g,{Amessage:this.state.articlelist}):"gifs"===this.state.display&&(e=r.a.createElement(O,{gifslist:this.state.gifslist})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"Menu-block"},"Board",r.a.createElement("div",{className:"Menu-list"},r.a.createElement("div",null,r.a.createElement(c.b,{to:"/create-user"},"Create user")),r.a.createElement("div",null," private message"),r.a.createElement("div",null," Current Sprint"))),r.a.createElement("div",{className:"Articles-block"},r.a.createElement("input",{type:"button",onClick:this.handleGifs,value:"Gifs"}),r.a.createElement("input",{type:"button",onClick:this.handleArticles,value:"Articles"}),e),r.a.createElement("div",{className:"Search-block"}),r.a.createElement("div",{className:"Post-article"},r.a.createElement(j,null)))}}]),t}(n.Component);var C=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(o.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("/api/v1/auth/create-user",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(console.log(e.status),201!==e.status)throw new Error(e.error);a.setState({email:"",password:"",fname:"",lname:"",username:"",role:"",dept:"",status:"user added successfully"})})).catch((function(e){console.error(e),a.setState({status:"user with this details exist"})}))};return a.state={email:"",password:"",fname:"",lname:"",username:"",role:"",dept:"",status:"",login:"stop"},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"Container",onSubmit:this.onSubmit},r.a.createElement("h1",null,"Fill user details bellow"),r.a.createElement("div",{className:"table"},r.a.createElement("table",{align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"Email: "),r.a.createElement("td",null,r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," Password"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," First Name"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",name:"fname",placeholder:"First name",value:this.state.fname,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," Last Name"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",name:"lname",placeholder:"Last name",value:this.state.lname,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," Username"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," Role"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",name:"role",placeholder:"Role",value:this.state.role,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Department"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",name:"dept",placeholder:"Department",value:this.state.dept,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"submit",value:"Submit"}),this.state.status)))),"  "))}}]),t}(n.Component);function S(e){return function(t){function a(){var e;return Object(u.a)(this,a),(e=Object(h.a)(this,Object(d.a)(a).call(this))).state={loading:!0,redirect:!1},e}return Object(p.a)(a,t),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/checkrole").then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.redirect;return a?null:n?(alert("You are not authorize"),r.a.createElement(i.a,{to:"/feeds"})):r.a.createElement(e,this.props)}}]),a}(n.Component)}var k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(o.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("/api/v1/gifs/"+a.props.gifId+"/comment",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(201!==e.status)throw new Error(e.error);a.setState({status:"Success",comment:""})})).catch((function(e){console.error(e),alert("Posting Error")}))},a.state={comment:"",status:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"Container",onSubmit:this.onSubmit},r.a.createElement("div",{className:"table"},r.a.createElement("table",{align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"text",name:"comment",placeholder:"Comment",value:this.state.comment,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"submit",value:"Post"}),this.state.status)))),"  "))}}]),t}(n.Component),N=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={response:"Loading...",response1:"Loading...",gifId:""},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;fetch("/api/v1/gifs/"+t.id).then((function(e){return e.json()})).then((function(a){return e.setState({response:a.data.rows,gifId:t.id})})),fetch("/api/v1/gifs/"+t.id).then((function(e){return e.json()})).then((function(t){return e.setState({response1:t.data.comments})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Body"},r.a.createElement("ul",null,Object.keys(this.state.response).map((function(t){return r.a.createElement("div",{className:"Article-block",key:t},r.a.createElement("div",null,e.state.response[t].title),r.a.createElement("p",null,r.a.createElement("img",{className:"image",alt:e.state.response[t].id,src:e.state.response[t].gifurl})))})),r.a.createElement(k,{gifId:this.state.gifId})),r.a.createElement("div",{className:"comment-title"},"Comments"),r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(this.state.response1).map((function(t){return r.a.createElement("div",{className:"Comment-block",key:t},r.a.createElement("div",{className:"PP"},"user:",e.state.response1[t].userid)," ",r.a.createElement("p",null,e.state.response1[t].comment),r.a.createElement("div",{className:"Pd"},e.state.response1[t].post_date))})))))}}]),t}(r.a.Component),w=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.match.params;return alert(e.id),fetch("/api/v1/articles/"+e.id,{method:"DELETE"}),r.a.createElement(i.a,{to:"/home"})}}]),t}(r.a.Component);a(47);var I=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null," TeamWork")),r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,component:E}),r.a.createElement(i.b,{path:"/login",exact:!0,component:E}),r.a.createElement(i.b,{path:"/home",component:(e=y,function(t){function a(){var e;return Object(u.a)(this,a),(e=Object(h.a)(this,Object(d.a)(a).call(this))).state={loading:!0,redirect:!1},e}return Object(p.a)(a,t),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/checktoken").then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.redirect;return a?null:n?r.a.createElement(i.a,{to:"/feeds"}):r.a.createElement(e,this.props)}}]),a}(n.Component))}),r.a.createElement(i.b,{path:"/articles/:id",component:b}),r.a.createElement(i.b,{path:"/gifs/:id",component:N}),r.a.createElement(i.b,{path:"/feeds",component:y}),r.a.createElement(i.b,{path:"/create-user",component:S(C)}),r.a.createElement(i.b,{path:"/deletearticle/:id",component:w}))));var e};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(c.a,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.0bb25572.chunk.js.map
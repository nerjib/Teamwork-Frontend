(this.webpackJsonpapp2=this.webpackJsonpapp2||[]).push([[0],{19:function(e,t,a){e.exports=a(41)},24:function(e,t,a){},25:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),l=a(8),i=(a(24),a(9)),o=a(11),u=a(1),m=a(2),p=a(4),h=a(3),d=a(5),v=(a(25),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(o.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("/api/v1/auth/signin",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(console.log(e.status),200!==e.status)throw new Error(e.error);a.props.history.push("/home")})).catch((function(e){console.error(e),alert("Error logging in please try again")}))},a.state={email:"",password:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"Container",onSubmit:this.onSubmit},r.a.createElement("h1",null,"Login Below!"),r.a.createElement("div",{className:"table"},r.a.createElement("table",{align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"submit",value:"Submit"}))))),"  "))}}]),t}(n.Component)),E=(a(26),a(29),a(30),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={response:"Loading...",response1:"Loading..."},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;fetch("/api/v1/articles/"+t.id).then((function(e){return e.json()})).then((function(t){return e.setState({response:t.data.rows})})),fetch("/api/v1/articles/"+t.id).then((function(e){return e.json()})).then((function(t){return e.setState({response1:t.data.comments})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Body"},r.a.createElement("ul",null,Object.keys(this.state.response).map((function(t){return r.a.createElement("div",{className:"Article-block",key:t},r.a.createElement("div",null,e.state.response[t].title),r.a.createElement("p",null,e.state.response[t].article))}))),r.a.createElement("div",{className:"comment-title"},"Comments"),r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(this.state.response1).map((function(t){return r.a.createElement("div",{className:"Comment-block",key:t},r.a.createElement("div",{className:"PP"},"user:",e.state.response1[t].userid)," ",r.a.createElement("p",null,e.state.response1[t].comment),r.a.createElement("div",{className:"Pd"},e.state.response1[t].post_date))})))))}}]),t}(r.a.Component)),f=(a(31),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(this.props.Amessage).map((function(t){return r.a.createElement("div",{className:"Article-block",key:t},r.a.createElement("div",{className:"profile"},"user: ",e.props.Amessage[t].userid),r.a.createElement("div",{className:"Article-title"},e.props.Amessage[t].title),r.a.createElement("div",{className:"Article-main"},e.props.Amessage[t].article),r.a.createElement("br",null),r.a.createElement(l.b,{className:"view",to:"/articles/".concat(e.props.Amessage[t].id)},"view")," ",r.a.createElement(l.b,{className:"comment",to:"/articles/".concat(e.props.Amessage[t].id)},"comments"),r.a.createElement("div",null,e.props.Amessage[t].createdon))}))))}}]),t}(r.a.Component)),b=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(o.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("/api/v1/articles",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(201!==e.status)throw new Error(e.error);a.setState({status:"Success"})})).catch((function(e){console.error(e),alert("Posting Error")}))},a.state={title:"",article:"",status:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"Post-form",style:{width:"20px",display:""}},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"input",name:"title",placeholder:"title",value:this.state.title,onChange:this.handleInputChange,required:!0}),r.a.createElement("input",{type:"input",name:"article",placeholder:"Article",value:this.state.article,onChange:this.handleInputChange,required:!0}),this.state.status,r.a.createElement("input",{type:"file",name:"image",onChange:this.handleInputChange}),r.a.createElement("input",{type:"submit",value:"Post"}))))}}]),t}(n.Component),g=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={message:"Loading...",message2:"ddd"},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/articles").then((function(e){return e.json()})).then((function(t){return e.setState({message:t.rows})})),fetch("/api/v1/articles/2").then((function(e){return e.text()})).then((function(t){return e.setState({message2:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"Menu-block"},"Board",r.a.createElement("div",{className:"Menu-list"},r.a.createElement("li",null,"private message"),r.a.createElement("li",null,"Current Sprint"))),r.a.createElement("div",{className:"Articles-block"},r.a.createElement(f,{Amessage:this.state.message})),r.a.createElement("div",{className:"Search-block"}),r.a.createElement("div",{className:"Post-article"},r.a.createElement(b,null)))}}]),t}(n.Component);a(40);var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null," TeamWork")),r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,component:v}),r.a.createElement(i.b,{path:"/login",exact:!0,component:v}),r.a.createElement(i.b,{path:"/home",component:(e=g,function(t){function a(){var e;return Object(u.a)(this,a),(e=Object(p.a)(this,Object(h.a)(a).call(this))).state={loading:!0,redirect:!1},e}return Object(d.a)(a,t),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/checkToken").then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.redirect;return a?null:n?r.a.createElement(i.a,{to:"/feeds"}):r.a.createElement(e,this.props)}}]),a}(n.Component))}),r.a.createElement(i.b,{path:"/articles/:id",component:E}),r.a.createElement(i.b,{path:"/feeds",component:g}))));var e};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(l.a,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.8c1693d9.chunk.js.map
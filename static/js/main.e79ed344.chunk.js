(this.webpackJsonpapp2=this.webpackJsonpapp2||[]).push([[0],{14:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},23:function(e,t,a){e.exports=a(48)},28:function(e,t,a){},40:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),s=a(6),o=(a(28),a(10)),i=a(9),u=a(1),m=a(2),p=a(5),h=a(3),d=a(4),f=(a(14),function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(i.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("https://powerful-garden-82332.herokuapp.com/api/v1/auth/signin",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if("success"!==e.status)throw localStorage.setItem("login","stop"),new Error(e.error);a.setState({login:"pass",token:e}),localStorage.setItem("login",a.state.login),localStorage.setItem("token",e.data.token)})).catch((function(e){console.error(e),localStorage.setItem("login","stop"),alert("Error logging in  please try again")}))};return a.state={email:"",password:"",login:"stop",token:{status:"dd",data:{token:"ttttggdvd",id:"id"}}},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return"pass"===this.state.login?r.a.createElement(o.a,{to:"/home"}," "):r.a.createElement("div",null,r.a.createElement("form",{className:"Container",onSubmit:this.onSubmit},r.a.createElement("h1",null,"Login Below!"),r.a.createElement("div",{className:"table"},r.a.createElement("table",{align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"submit",value:"Submit"}))))),"  "))}}]),t}(n.Component)),E=a(12),g=(a(37),a(40),a(41),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(i.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("https://powerful-garden-82332.herokuapp.com/api/v1/articles/"+a.props.articleId+"/comment",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}}).then((function(e){if(201!==e.status)throw new Error(e.error);a.setState({status:"Success",comment:""})})).catch((function(e){console.error(e),alert("Posting Error")}))},a.state={comment:"",status:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"Container",onSubmit:this.onSubmit},r.a.createElement("div",{className:"table"},r.a.createElement("table",{align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"text",name:"comment",placeholder:"Comment",value:this.state.comment,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"submit",value:"Post"}),this.state.status)))),"  "))}}]),t}(n.Component)),v=(a(18),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={response:"Loading...",response1:"Loading...",articleId:""},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}},a=this.props.match.params;fetch("https://powerful-garden-82332.herokuapp.com/api/v1/articles/"+a.id,t).then((function(e){return e.json()})).then((function(t){return e.setState({response:t.data.rows,articleId:a.id})})),fetch("https://powerful-garden-82332.herokuapp.com/api/v1/articles/"+a.id,t).then((function(e){return e.json()})).then((function(t){return e.setState({response1:t.data.comments})}))}},{key:"render",value:function(){var e=this.state.response,t=this.state.response1;return r.a.createElement("div",{className:"Body"},r.a.createElement("ul",null,Object.keys(e).map((function(t){return r.a.createElement("div",{className:"Article-block",key:t},r.a.createElement("div",null,e[t].title),r.a.createElement("p",null,e[t].article))})),r.a.createElement(g,{articleId:this.state.articleId})),r.a.createElement("div",{className:"comment-title"},"Comments"),r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(t).map((function(e){return r.a.createElement("div",{className:"Comment-block",key:e},r.a.createElement("div",{className:"PP"},"user:",t[e].userid)," ",r.a.createElement("p",null,t[e].comment),r.a.createElement("div",{className:"Pd"},t[e].post_date))})))))}}]),t}(r.a.Component)),b=(a(19),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(this.props.Amessage).map((function(t){return r.a.createElement("div",{className:"Article-block",key:t},r.a.createElement("div",{className:"profile"},"user: ",e.props.Amessage[t].userid),r.a.createElement("div",{className:"Article-title"},e.props.Amessage[t].title),r.a.createElement("div",{className:"Article-main"},e.props.Amessage[t].article),r.a.createElement("br",null),r.a.createElement(s.b,{className:"view",to:"/articles/".concat(e.props.Amessage[t].id)},"view")," ",r.a.createElement(s.b,{className:"comment",to:"/articles/".concat(e.props.Amessage[t].id)},"comments"),r.a.createElement(s.b,{className:"delete",to:"/deletearticle/".concat(e.props.Amessage[t].id)},"delete"),r.a.createElement("div",null,e.props.Amessage[t].createdon))}))))}}]),t}(r.a.Component)),j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(i.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("https://powerful-garden-82332.herokuapp.com/api/v1/articles",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}}).then((function(e){if(201!==e.status)throw new Error(e.error);a.setState({status:"Success"})})).catch((function(e){console.error(e),alert("Posting Error")}))},a.state={title:"",article:"",status:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"Post-form",style:{width:"20px",display:""}},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"input",name:"title",placeholder:"title",value:this.state.title,onChange:this.handleInputChange,required:!0}),r.a.createElement("input",{type:"input",name:"article",placeholder:"Article",value:this.state.article,onChange:this.handleInputChange,required:!0}),this.state.status,r.a.createElement("input",{type:"file",name:"image",onChange:this.handleInputChange}),r.a.createElement("input",{type:"submit",value:"Post"}))))}}]),t}(n.Component),k=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.gifslist;return r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(e).map((function(t){return r.a.createElement("div",{className:"Article-block",key:t},r.a.createElement("div",{className:"profile"},"user: ",e[t].userid),r.a.createElement("div",{className:"Article-title"},e.title),r.a.createElement("div",{className:"Article-main"},r.a.createElement("img",{className:"image",alt:e[t].id,src:e[t].gifurl})),r.a.createElement("br",null),r.a.createElement(s.b,{className:"view",to:"/gifs/".concat(e[t].id)},"Fullview")," ",r.a.createElement(s.b,{className:"comment",to:"/gifs/".concat(e[t].id)},"comments"),r.a.createElement("div",null,e[t].createdon))}))))}}]),t}(r.a.Component),O=function(e){function t(){var e;Object(u.a)(this,t),e=Object(p.a)(this,Object(h.a)(t).call(this));var a=localStorage.getItem("login");return e.state={articlelist:"Loading...",gifslist:"Loading...",login:a,display:"articles"},"pass"!==a&&e.setState({login:"stop"}),e.handleArticles=e.handleArticles.bind(Object(E.a)(e)),e.handleGifs=e.handleGifs.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}};fetch("https://powerful-garden-82332.herokuapp.com/api/v1/articles",t).then((function(e){return e.json()})).then((function(t){return e.setState({articlelist:t.rows})})),fetch("https://powerful-garden-82332.herokuapp.com/api/v1/gifs",t).then((function(e){return e.json()})).then((function(t){return e.setState({gifslist:t.rows})}))}},{key:"handleGifs",value:function(){this.setState({display:"gifs"})}},{key:"handleArticles",value:function(){this.setState({display:"articles"})}},{key:"render",value:function(){if("pass"!==this.state.login)return r.a.createElement(o.a,{to:"/login"});var e="";return"articles"===this.state.display?e=r.a.createElement(b,{Amessage:this.state.articlelist}):"gifs"===this.state.display&&(e=r.a.createElement(k,{gifslist:this.state.gifslist})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"Menu-block"},"Board",r.a.createElement("div",{className:"Menu-list"},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/create-user"},"Create user")),r.a.createElement("div",null," private message"),r.a.createElement("div",null," Current Sprint"),r.a.createElement(s.b,{to:"/signout"},"Signout"))),r.a.createElement("div",{className:"Articles-block"},r.a.createElement("input",{type:"button",onClick:this.handleGifs,value:"Gifs"}),r.a.createElement("input",{type:"button",onClick:this.handleArticles,value:"Articles"}),e),r.a.createElement("div",{className:"Search-block"}),r.a.createElement("div",{className:"Post-article"},r.a.createElement(j,null)))}}]),t}(n.Component);var y=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(i.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("https://powerful-garden-82332.herokuapp.com/api/v1/auth/create-user",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}}).then((function(e){if(console.log(e.status),201!==e.status)throw new Error(e.error);a.setState({email:"",password:"",fname:"",lname:"",username:"",role:"",dept:"",status:"user added successfully"})})).catch((function(e){console.error(e),a.setState({status:"user with this details exist"})}))};return a.state={email:"",password:"",fname:"",lname:"",username:"",role:"",dept:"",status:"",login:"stop"},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"Container",onSubmit:this.onSubmit},r.a.createElement("h1",null,"Fill user details bellow"),r.a.createElement("div",{className:"table"},r.a.createElement("table",{align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"Email: "),r.a.createElement("td",null,r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," Password"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," First Name"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",name:"fname",placeholder:"First name",value:this.state.fname,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," Last Name"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",name:"lname",placeholder:"Last name",value:this.state.lname,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," Username"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null," Role"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",name:"role",placeholder:"Role",value:this.state.role,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Department"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",name:"dept",placeholder:"Department",value:this.state.dept,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"submit",value:"Submit"}),this.state.status)))),"  "))}}]),t}(n.Component);function S(e){return function(t){function a(){var e;return Object(u.a)(this,a),(e=Object(p.a)(this,Object(h.a)(a).call(this))).state={loading:!0,redirect:!1},e}return Object(d.a)(a,t),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{token:localStorage.getItem("token")}};fetch("https://powerful-garden-82332.herokuapp.com/api/v1/checkrole",t).then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.redirect;return a?null:n?(alert("You are not authorize"),r.a.createElement(o.a,{to:"/feeds"})):r.a.createElement(e,this.props)}}]),a}(n.Component)}var C=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(i.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),fetch("https://powerful-garden-82332.herokuapp.com/api/v1/gifs/"+a.props.gifId+"/comment",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}}).then((function(e){if(201!==e.status)throw new Error(e.error);a.setState({status:"Success",comment:""})})).catch((function(e){console.error(e),alert("Posting Error")}))},a.state={comment:"",status:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"Container",onSubmit:this.onSubmit},r.a.createElement("div",{className:"table"},r.a.createElement("table",{align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"text",name:"comment",placeholder:"Comment",value:this.state.comment,onChange:this.handleInputChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null,"        ",r.a.createElement("input",{type:"submit",value:"Post"}),this.state.status)))),"  "))}}]),t}(n.Component),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={response:"Loading...",response1:"Loading...",gifId:""},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}},a=this.props.match.params;fetch("https://powerful-garden-82332.herokuapp.com/api/v1/gifs/"+a.id,t).then((function(e){return e.json()})).then((function(t){return e.setState({response:t.data.rows,gifId:a.id})})),fetch("https://powerful-garden-82332.herokuapp.com/api/v1/gifs/"+a.id,t).then((function(e){return e.json()})).then((function(t){return e.setState({response1:t.data.comments})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Body"},r.a.createElement("ul",null,Object.keys(this.state.response).map((function(t){return r.a.createElement("div",{className:"Article-block",key:t},r.a.createElement("div",null,e.state.response[t].title),r.a.createElement("p",null,r.a.createElement("img",{className:"image",alt:e.state.response[t].id,src:e.state.response[t].gifurl})))})),r.a.createElement(C,{gifId:this.state.gifId})),r.a.createElement("div",{className:"comment-title"},"Comments"),r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(this.state.response1).map((function(t){return r.a.createElement("div",{className:"Comment-block",key:t},r.a.createElement("div",{className:"PP"},"user:",e.state.response1[t].userid)," ",r.a.createElement("p",null,e.state.response1[t].comment),r.a.createElement("div",{className:"Pd"},e.state.response1[t].post_date))})))))}}]),t}(r.a.Component),N=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.match.params;return alert(e.id),fetch("https://powerful-garden-82332.herokuapp.com/api/v1/articles/"+e.id,{method:"DELETE",headers:{token:localStorage.getItem("token")}}),r.a.createElement(o.a,{to:"/home"})}}]),t}(r.a.Component),I=function(e){function t(e){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){localStorage.removeItem("login"),localStorage.removeItem("token")}},{key:"render",value:function(){return r.a.createElement(o.a,{to:"/login"}," ")}}]),t}(n.Component);a(47);var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null," TeamWork")),r.a.createElement("div",null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:f}),r.a.createElement(o.b,{path:"/login",exact:!0,component:f}),r.a.createElement(o.b,{path:"/home",component:(e=O,function(t){function a(){var e;return Object(u.a)(this,a),(e=Object(p.a)(this,Object(h.a)(a).call(this))).state={loading:!0,redirect:!1},e}return Object(d.a)(a,t),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}};fetch("https://powerful-garden-82332.herokuapp.com/api/v1/checktoken",t).then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.redirect;return a?null:n?r.a.createElement(o.a,{to:"/feeds"}):r.a.createElement(e,this.props)}}]),a}(n.Component))}),r.a.createElement(o.b,{path:"/articles/:id",component:v}),r.a.createElement(o.b,{path:"/gifs/:id",component:w}),r.a.createElement(o.b,{path:"/feeds",component:O}),r.a.createElement(o.b,{path:"/create-user",component:S(y)}),r.a.createElement(o.b,{path:"/deletearticle/:id",component:N}),r.a.createElement(o.b,{path:"/signout",component:I}))));var e};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(s.a,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.e79ed344.chunk.js.map